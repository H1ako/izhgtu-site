@import '../../mixins';

.menu {
  &.active {
    .menu__content {
      display: flex;
    }
  }

  &__toggle {
    @include iconBtn(var(--fontSize2));

    height: 100%;

    .toggle__icon {
      color: var(--colorMain);
    }

    .toggle__text {
      color: var(--colorMainLight);
    }
  }

  &__content {
    display: none;
    position: absolute;
    left: 0;
    top: 100%;
    width: 100%;
    height: calc(100vh - var(--heightHeaderInitial));
    background: var(--colorBgDark);
    padding: min(2rem, 5vw);
    flex-direction: column;
    gap: 2rem;


    .content__main-btns {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;

      .main-btns__btn {
        @include btn($fontSize: var(--fontSize4), $color: var(--colorMain));

        width: 14rem;
        white-space: nowrap;

        .btn__icon {
          color: var(--colorMain);
        }
      }
    }

    nav {
      position: relative;
      width: 100%;
      flex-grow: 1;

      .nav__links {
        position: relative;
        width: fit-content;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;


        .links__links-group {
          width: 120%;

          &:hover,
          &:focus-within {
            & > .links-group__link {
              color: var(--colorMain) !important;

              &:after {
                opacity: 1;
              }
            }

            & > .links-group__links {
              opacity: 1;
              user-select: auto;
              pointer-events: auto;
            }
          }

          .links-group__link {
            @include clearedLink($fontSize: var(--fontSize1));

            position: relative;
            display: block;
            white-space: nowrap;
            text-transform: uppercase;
            transition: var(--transitionDefault);
            padding: .5rem 2rem .5rem 0;

            &::after {
              content: '';
              position: absolute;
              background-image: url('/static/svg/chevron-right.svg');
              background-repeat: no-repeat;
              background-position: center;
              background-size: 100% 100%;
              color: red;
              top: 0;
              right: 10%;
              height: 100%;
              width: 1.25rem;
              opacity: 0;
              transition: var(--transitionDefault);
            }
          }

          .links-group__links {
            position: absolute;
            left: 120%;
            top: 0;
            height: 100%;
            opacity: 0;
            transition: var(--transitionDefault);
            display: block;
            user-select: none;
            pointer-events: none;

            .links-group__link {
              color: var(--colorTextDark);
            }
          }
        }
      }
    }

    .content__info {
      display: flex;
      gap: clamp(1rem, 5vw, 2rem);
      flex-wrap: wrap;

      .info__group {
        display: flex;
        flex-direction: column;
        gap: .5rem;

        &.group-socials .group__list {
          grid-auto-flow: row;
          grid-template-columns: repeat(4, auto);
          grid-template-rows: auto;
        }

        .group__heading {
          color: var(--colorMain);
          text-transform: uppercase;
        }

        .group__list {
          gap: .5rem 1rem;
          display: grid;
          grid-auto-flow: column;
          grid-template-rows: repeat(4, auto);
          justify-content: space-between;

          .list__part {
            position: relative;

            .part__text {
              @include clearedLink($fontSize: var(--fontSize4));

              .text__icon {
                flex: 1 1 0;
                font-size: var(--fontSize1);
              }
            }
          }
        }
      }
    }
  }
}